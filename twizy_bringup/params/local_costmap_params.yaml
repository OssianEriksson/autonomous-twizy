<<: !include $(rospack find twizy_bringup)/params/include/costmap_common_params.yaml

!variable physical : !include $(rospack find twizy_description)/config/physical.yaml

obstacle_layer:
  obstacle_range: 8.5
  raytrace_range: 9.0
  max_obstacle_height: !eval physical['total_height'] + 0.2

  observation_sources: rear_realsense_points lidar_points

  front_realsense_points:
    data_type: PointCloud2
    topic: /camera/front/depth/color/points
    min_obstacle_height: 0.2
    marking: true
    clearing: true
  
  rear_realsense_points:
    data_type: PointCloud2
    topic: /camera/rear/depth/color/points
    min_obstacle_height: 0.2
    marking: true
    clearing: true

  lidar_points: 
    sensor_frame: lidar_vlp16
    data_type: PointCloud2
    topic: /lidar/points
    min_obstacle_height: 0.2
    marking: true
    clearing: true

plugins:
- {name: obstacle_layer, type: "costmap_2d::ObstacleLayer"}

update_frequency: 1.0
rolling_window: true
width: 20.0                   # Width of the local costmap
height: 20.0                  # Height of the local costmap
resolution: 0.2